# 🎨 디자이너 협업 가이드 - 오누이 한국어

디자이너와 협업하기 위한 프로젝트 개요, 디자인 시스템, UI/UX 명세를 정리한 문서입니다.

---

## 📋 프로젝트 개요

**프로젝트명**: 오누이 한국어 (Onui Korean)  
**목표**: AI 기반 한국어 학습 웹 애플리케이션  
**기술 스택**: FastAPI (Backend) + Jinja2 + Tailwind CSS (Frontend)

### 핵심 학습 모듈
1. 🗣️ **발음 학습**: SpeechPro API 기반 정확도 평가
2. 🤖 **AI 학습**: Ollama (로컬 LLM) 기반 콘텐츠 생성
3. 🎲 **게임/활동**: 인터랙티브 학습 게임
4. 📊 **진도 추적**: 사용자 학습 통계

---

## 🎯 주요 기능 및 페이지

### 1️⃣ 🗣️ 발음 학습 섹션

#### 1-1. 발음 정확도 평가 (`/speechpro-practice`)
- **목적**: 단어/문장 발음을 AI가 채점
- **흐름**: 
  - Step 1 (듣기): MzTTS 음성 재생 → 음소 분해 표시
  - Step 2 (말하기): 마이크 녹음 → AI 점수 + 피드백
  - 점수 표시 (색상 코드):
    - 🟢 **80점 이상**: 초록색 (`#10b981`) - "완벽해요!"
    - 🟡 **60-79점**: 호박색 (`#f59e0b`) - "좋아요! 조금만 더!"
    - 🔴 **60점 미만**: 빨강 (`#ef4444`) - "다시 연습해보세요!"

#### 1-2. 유창성 평가 (`/fluency-practice`)
- **목적**: 말하기 흐름, 억양, 문법 평가
- **특징**: 실시간 피드백, 오누이 캐릭터 응원 메시지

#### 1-3. 단계별 발음 학습 (`/pronunciation-stages`)
- **목적**: 단계별·레벨별 발음 가이드
- **구성**: 초급→중급→고급 진행

#### 1-4. 발음 규칙 (`/pronunciation-rules`) ⭐ NEW
- **목적**: 한국어 발음 규칙 이해 및 연습
- **UI 특징**:
  - 탭 전환: "규칙 이해" ↔ "예제 연습" (기본값: 규칙)
  - 연습 카드: 정답 보기/숨기기 토글
  - 사용자 입력: 정답 확인 기능 (Enter 또는 확인 버튼)
  - 피드백: 정답/오답 즉시 표시

---

### 2️⃣ 🤖 AI 학습 섹션

#### 2-1. AI 학습 도구 (`/learning`)
- **기능**: 질문 입력 → AI 피드백
- **백엔드**: Ollama (EXAONE 모델)

#### 2-2. 맞춤형 교재 생성 (`/content-generation`)
- **기능**: 주제·레벨 선택 → 대화문·단어장 자동 생성
- **입력**: 주제, CEFR 레벨 (A1/A2/B1 등)
- **출력**: 구조화된 학습 자료

#### 2-3. 작문 테스트 (`/fluency-test`)
- **기능**: 입력/음성으로 작문 제시 → AI 채점
- **평가**: 문법, 표현, 발음 포함

#### 2-4. 상황별 콘텐츠 생성 (`/media-generation`)
- **기능**: 상황 선택 (카페, 병원 등) → 표현/대화 생성

---

### 3️⃣ 🎲 활동하기 섹션

#### 3-1. 단어 삭제 (`/word-puzzle`)
- **게임 방식**: 드래그 앤 드롭으로 올바른 어순 맞추기
- **데이터**: `data/sentences.json`

#### 3-2. 조사 떠다니기 (`/vocab-garden`)
- **게임 방식**: 조사/어휘 조합 연습
- **시각화**: 이모지 기반 단어 카드
- **데이터**: `data/vocabulary.json`
- **특징**: 각 단어에 어울리는 이모지 표시

#### 3-3. 오늘의 표현 (`/daily-expression`)
- **기능**: 매일 갱신되는 한국어 표현 학습
- **데이터**: `data/expressions.json`

---

### 4️⃣ 👤 사용자 기능

#### 4-1. 로그인/회원가입 (`/login`)
- **기능**: 이메일 기반 인증
- **DB**: SQLite (`data/users.db`)

#### 4-2. 내 프로필 (`/mypage`)
- **표시**: 사용자 이름, 학습 레벨, 관심사

#### 4-3. 학습 진도 (`/learning-progress`) ⭐ NEW
- **표시**: 발음 정확도 분포, 학습 일수, 완료한 활동
- **차트**: 정확도 카테고리별 (Excellent/Good/Needs Improvement)

#### 4-4. 비밀번호 변경 (`/change-password`)

---

## 📑 페이지 구조도

### 전체 사이트맵
```
🌸 오누이 한국어
│
├─ 🏠 홈 (index.html)
│
├─ 🗣️ 발음 학습 드롭다운
│  ├─ 🎤 발음 정확도 평가 (speechpro-practice.html)
│  │  └─ Step 1 (듣기) → Step 2 (말하기) → 피드백
│  ├─ 🗣️ 유창성 평가 (fluency-practice.html)
│  ├─ 📚 단계별 발음 학습 (pronunciation-stages.html)
│  └─ 📖 발음 규칙 (pronunciation-rules.html) ⭐ NEW
│     └─ [탭] 규칙 이해 / 예제 연습
│
├─ 🤖 AI 학습 드롭다운
│  ├─ 🎓 AI 학습 도구 (learning.html)
│  ├─ 📚 맞춤형 교재 (content-generation.html)
│  ├─ ✍️ 작문 테스트 (fluency-test.html)
│  └─ 🎨 상황별 콘텐츠 생성 (media-generation.html)
│
├─ 🎲 활동하기 드롭다운
│  ├─ 🧩 단어 삭제 (word-puzzle.html)
│  │  └─ 드래그 앤 드롭 게임
│  ├─ 🌊 조사 떠다니기 (vocab-garden.html)
│  │  └─ 이모지 단어 카드
│  ├─ 💬 오늘의 표현 (daily-expression.html)
│  └─ (준비중 메뉴들)
│
├─ 🔧 API 테스트 (api-test.html)
│
├─ 📍 사이트맵 (sitemap.html)
│
└─ 👤 사용자 기능
   ├─ 🔐 로그인 (login.html)
   │  └─ [이메일/비밀번호 입력]
   ├─ 내 프로필 (mypage.html)
   │  ├─ 기본 정보 표시
   │  └─ 프로필 수정
   ├─ 📊 학습 진도 (learning-progress.html) ⭐ NEW
   │  ├─ 발음 정확도 차트
   │  ├─ 학습 연속성
   │  └─ 완료 활동 목록
   ├─ 비밀번호 변경 (change-password.html)
   └─ 로그아웃
```

### 페이지 계층 구조 (사용자 흐름)

```
┌─────────────────────────────────────────────────────────┐
│                    🏠 홈페이지                          │
│         (오누이 캐릭터 인사 + 주요 기능 소개)           │
└────────┬───────────────────────────────────────────────┘
         │
    [로그인/회원가입]
         │
    ┌────┴─────┬──────────┬──────────┐
    │           │          │          │
    ▼           ▼          ▼          ▼
  🗣️ 발음    🤖 AI      🎲 게임    📊 진도
  학습      학습       활동       추적
    │           │          │          │
    ├─ 평가    ├─ 교재     ├─ 퍼즐    └─ 통계
    ├─ 단계    ├─ 콘텐츠   ├─ 표현       피드백
    └─ 규칙    └─ 테스트   └─ 게임
```

### 주요 페이지별 상세 구조

#### 1. 발음 정확도 평가 (speechpro-practice.html)
```
┌────────────────────────────────┐
│   📍 발음 정확도 평가          │
├────────────────────────────────┤
│  [단어/레벨 필터 UI]           │
│  • 검색 입력 (한글/로마자)     │
│  • 레벨 버튼 (전체/A1/A2)      │
├────────────────────────────────┤
│  [단어 리스트]                 │
│  • 카드 형식 (이미지 + 텍스트) │
│  • 클릭 → Step 1 진행          │
├────────────────────────────────┤
│  Step 1: 듣기 화면             │
│  • 🔊 음성 버튼                │
│  • 음소 분해 표시              │
│  • 발음 팁 텍스트              │
│  • [다음/연습하기 버튼]        │
├────────────────────────────────┤
│  Step 2: 말하기 화면           │
│  • 🎤 녹음 버튼                │
│  • 녹음 시간 표시              │
│  • [제출 버튼]                 │
├────────────────────────────────┤
│  🎉 피드백 화면                │
│  • 점수 표시 (색상 코드)       │
│  • 이모지 + 메시지             │
│  • 인식 텍스트 표시            │
│  • [다시 듣기] [다시 녹음]     │
└────────────────────────────────┘
```

#### 2. 발음 규칙 (pronunciation-rules.html) - NEW
```
┌────────────────────────────────┐
│   📖 발음 규칙                 │
├────────────────────────────────┤
│  [탭 네비게이션]               │
│  ┌─────────────┬──────────────┐│
│  │ 규칙 이해  │ 예제 연습    ││ (기본: 규칙)
│  └─────────────┴──────────────┘│
├────────────────────────────────┤
│  📖 규칙 이해 탭                │
│  • 규칙 제목                   │
│  • 상세 설명                   │
│  • 🔊 음성 예제                │
│  • 룰 카드 (동작 표시)         │
├────────────────────────────────┤
│  📝 예제 연습 탭                │
│  • 연습 카드 목록              │
│  • 각 카드:                    │
│    - 문장 표시                 │
│    - [정답 보기/숨기기 토글]   │
│    - 입력 필드                 │
│    - [확인 버튼]               │
│    - ✓/✗ 피드백               │
│  • [다음 문제] [완료]          │
└────────────────────────────────┘
```

#### 3. AI 학습 도구 (learning.html)
```
┌────────────────────────────────┐
│   🎓 AI 학습 도구              │
├────────────────────────────────┤
│  [입력 섹션]                   │
│  • 주제 입력 필드              │
│  • 레벨 선택 (A1/A2/B1...)    │
│  • [학습 시작 버튼]            │
├────────────────────────────────┤
│  [AI 응답 섹션]                │
│  • 로딩 애니메이션             │
│  • AI 생성 콘텐츠 표시         │
│  • 대화문 + 단어장             │
│  • 🔊 음성 재생 버튼           │
│  • [다시 생성] [저장]          │
└────────────────────────────────┘
```

#### 4. 단어 삭제 (word-puzzle.html)
```
┌────────────────────────────────┐
│   🧩 단어 삭제 게임            │
├────────────────────────────────┤
│  [점수 표시]                   │
│  현재 점수: __점 / 총점: __점  │
├────────────────────────────────┤
│  [게임 영역]                   │
│  ┌──────────────────────────┐ │
│  │ [드래그 영역]            │ │
│  │ 단어들 (드래그 가능)     │ │
│  ├──────────────────────────┤ │
│  │ [드롭 영역 1]            │ │
│  │ 정렬할 위치              │ │
│  │ [드롭 영역 2]            │ │
│  │ ...                      │ │
│  └──────────────────────────┘ │
├────────────────────────────────┤
│  [결과 창]                     │
│  • 정답 여부 표시              │
│  • 해설 텍스트                 │
│  • [다음 문제] [리셋]          │
└────────────────────────────────┘
```

#### 5. 조사 떠다니기 (vocab-garden.html)
```
┌────────────────────────────────┐
│   🌊 조사 떠다니기             │
├────────────────────────────────┤
│  [필터 UI]                     │
│  • 레벨 선택 (A1/A2/B1)       │
│  • 검색 입력                   │
├────────────────────────────────┤
│  [단어 카드 그리드]            │
│  ┌─────┬─────┬─────┐          │
│  │ 🏠  │ 🌳  │ 🚗  │          │
│  │ 집  │ 나무│ 자동│          │
│  └─────┴─────┴─────┘          │
│  (이모지 + 한글 + 로마자)      │
├────────────────────────────────┤
│  [조사 드래그 영역]            │
│  • 조사 카드 (을/를/이/가 등)  │
│  • 드래그 → 단어 위에 놓기     │
├────────────────────────────────┤
│  [피드백]                      │
│  • 정답/오답 표시              │
│  • 음성 재생 버튼              │
└────────────────────────────────┘
```

#### 6. 학습 진도 (learning-progress.html) - NEW
```
┌────────────────────────────────┐
│   📊 학습 진도                 │
├────────────────────────────────┤
│  [통계 요약]                   │
│  • 총 학습 일수: __일          │
│  • 연속 로그인: __일           │
│  • 완료한 활동: __개           │
├────────────────────────────────┤
│  [발음 정확도 분포]            │
│  Excellent ████████░░ 40%      │
│  Good      ██████░░░░ 30%      │
│  Need Imp. ████░░░░░░ 20%      │
│  (차트 형식: 막대/원형)        │
├────────────────────────────────┤
│  [활동별 진도]                 │
│  • 발음 연습: ████░░░░ 40점    │
│  • AI 학습: ██░░░░░░░ 10점     │
│  • 게임: ███████░░░ 70점       │
├────────────────────────────────┤
│  [최근 활동]                   │
│  • 발음 정확도: 85점 ✓         │
│  • 오늘의 표현: 완료 ✓         │
│  • 퀴즈: 72점                  │
│  (시간순 정렬)                 │
└────────────────────────────────┘
```

#### 7. 로그인 (login.html)
```
┌────────────────────────────────┐
│    🔐 로그인                   │
├────────────────────────────────┤
│                                │
│  🌸 오누이 한국어 로고          │
│                                │
│  [이메일 입력]                 │
│  [비밀번호 입력]               │
│  [로그인 버튼]                 │
│  [회원가입 링크]               │
│  [비밀번호 찾기]               │
│                                │
│  게스트로 시작 ▶              │
│                                │
└────────────────────────────────┘
```

---

## 🎨 디자인 시스템

### 색상 팔레트

#### 주색상
| 용도 | 색상 | HEX |
|------|------|-----|
| 프라이머리 | 오렌지 | `#fb923c` |
| 보조색 | 인디고 | `#6366f1` |
| 발음 평가 (좋음) | 초록 | `#10b981` |
| 발음 평가 (보통) | 호박 | `#f59e0b` |
| 발음 평가 (개선) | 빨강 | `#ef4444` |

#### 중립 색상
| 용도 | HEX |
|------|-----|
| 배경 | `#fff7db`, `#e0e7ff` (그라디언트) |
| 텍스트 주색 | `#22293a` |
| 텍스트 보조색 | `#6b7280` |
| 패널/카드 | `#ffffff` |

### 타이포그래피
- **폰트**: Pretendard (한국어 최적화)
- **대체**: -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Noto Sans KR

### 아이콘 및 이모지
- 주요 아이콘: 이모지 활용
  - 🌸 (홈), 🎤 (발음), 🤖 (AI), 🎲 (게임), 📊 (진도) 등

### 컴포넌트

#### 카드/패널
- **배경**: 흰색 (`#ffffff`) with 그림자
- **모서리**: `border-radius: 10px~12px`
- **패딩**: `12px~16px`
- **테두리**: 선택적 색상 테두리

#### 버튼
- **스타일**: Tailwind CSS (`bg-orange-500`, `hover:bg-orange-600` 등)
- **크기**: 소 (텍스트만), 중 (padding), 대 (풀 너비)
- **상태**: Normal, Hover, Disabled

#### 입력 필드
- **스타일**: 테두리 포함 흰 배경
- **초점**: `border-orange-500` 강조
- **플레이스홀더**: 친근한 텍스트 (예: "연습할 표현을 입력해보세요...")

#### 드롭다운/탭
- **탭**: "규칙 이해" / "예제 연습" (발음 규칙 페이지)
- **스타일**: 선택된 탭은 강조 색상

---

## 📁 디자인 자료 위치

```
docs/design/
├── character.png                 # 오누이 캐릭터 (👦👧)
├── elsaspeak.png                # ELSA Speak 참고 이미지
├── tiger_chatbot.svg            # 챗봇 캐릭터
├── character_message_template.html  # 캐릭터 메시지 팝업 템플릿
├── 꽃밭카드_한국어2.html        # 단어 카드 템플릿
├── 단어이름맞추기_한국어2.html   # 게임 UI 템플릿
└── 오늘의표현_한국어2.html      # 표현 카드 템플릿
```

---

## 🔄 UI/UX 흐름도

### 발음 정확도 평가 흐름
```
시작 → 단어/문장 선택
  ↓
Step 1: 듣기
  - 음성 재생 (MzTTS)
  - 음소 분해 표시
  - 발음 팁 안내
  ↓
Step 2: 말하기
  - 마이크 녹음
  - AI 평가 (SpeechPro)
  ↓
피드백 화면
  - 점수 표시 (색상 코드)
  - 메시지 (이모지 + 텍스트)
  - "다시 듣기" / "다시 녹음" 버튼
  ↓
다음 단어 또는 완료
```

### 발음 규칙 학습 흐름 (NEW!)
```
페이지 로드 (기본: 규칙 탭)
  ↓
탭 선택: "규칙 이해" 또는 "예제 연습"
  ↓
"규칙 이해" 탭
  - 한국어 발음 규칙 설명
  - 음성/동영상 예제
  ↓
"예제 연습" 탭
  - 연습 카드 (문장 + 보기/숨기기 토글)
  - 사용자 입력 필드
  - "확인" 버튼 또는 Enter 키
  - 정답 여부 표시 ✓/✗
  - 다음 문제 넘어가기
```

### 게임/활동 흐름
```
게임 선택
  ↓
게임 시작 화면
  - 규칙/지시 안내
  - 시작 버튼
  ↓
게임 진행
  - 드래그 앤 드롭 / 클릭 인터랙션
  - 실시간 피드백
  ↓
완료 화면
  - 점수/결과
  - 다시하기 / 다른 게임 선택
```

---

## 📱 반응형 디자인

### 기본 breakpoints (Tailwind CSS 기반)
- **모바일**: < 640px (`sm:`)
- **태블릿**: 640px~1024px (`md:`, `lg:`)
- **데스크톱**: > 1024px

### 레이아웃 변경
- **모바일**: 단일 열, 큰 터치 타겟
- **태블릿**: 2열 그리드
- **데스크톱**: 2-3열 그리드

---

## ♿ 접근성 고려사항

1. **음성 기반 학습**
   - 시각 장애인을 위한 음성 안내 지원
   - 음성 텍스트 변환(STT) 피드백

2. **발음 피드백**
   - 점수 색상 + 텍스트 메시지 (색상만으로 전달하지 않음)
   - 이모지 + 한국어 문구 병행

3. **키보드 네비게이션**
   - Tab 키로 모든 기능 접근 가능
   - Enter/Space로 버튼 활성화

4. **HTTPS 요구**
   - 마이크 접근은 HTTPS 환경 필수

---

## 🚀 최신 추가 기능 (2025-12-10)

### 발음 규칙 페이지 개선사항
- ✅ 규칙 이해 / 예제 연습 탭 전환 UI 추가
- ✅ 연습 카드별 정답 보기/숨기기 토글
- ✅ 사용자 입력 정답 확인 기능
- ✅ 입력 → 확인/Enter로 즉시 채점
- ✅ 공백·대소문자 무시 비교

### 학습 진도 페이지
- 📊 발음 정확도 분포 시각화 (차트)
- 📅 학습 연속성 추적
- 🎯 완료한 활동 목록

---

## 📊 화면 크기 및 레이아웃

### 헤더 (Navigation Bar)
- 높이: 56px (`h-14`)
- **데스크톱**: 로고 + 메뉴 드롭다운 + 사용자 영역 (가로)
- **모바일**: 로고 + 햄버거 메뉴 (접음)

### 메인 콘텐츠
- **Max-width**: 1280px (`max-w-7xl`)
- **패딩**: 상하좌우 16px~24px

### 카드/게임 영역
- **데스크톱**: 2-3 컬럼 그리드
- **모바일**: 1 컬럼 (풀 너비)

---

## 🎬 추천 협업 방식

1. **첫 단계**: Figma/XD에서 Wireframe 작성
2. **두 번째**: High-fidelity Mock-up (현재 색상 팔레트 적용)
3. **세 번째**: 페이지별 상세 디자인 (반응형 포함)
4. **최종**: 개발자와 함께 디테일 조정 (CSS 미세조정 등)

### 주요 체크리스트
- [ ] 메인 색상 일관성 (오렌지 `#fb923c`)
- [ ] 발음 평가 점수 색상 코드 적용 (초록/호박/빨강)
- [ ] 반응형 레이아웃 (모바일/태블릿/데스크톱)
- [ ] 접근성 (색상 + 텍스트, 키보드 네비게이션)
- [ ] 캐릭터 통합 (오누이 캐릭터 팝업)
- [ ] 마이크/음성 UI (시각적 피드백)

---

## 📞 개발자와 소통

### 주요 연락 항목
- **색상 변경**: CSS 파일 (`static/css/`) 수정 필요
- **레이아웃 변경**: HTML 템플릿 (`templates/`) 수정 필요
- **새 UI 컴포넌트**: Tailwind CSS 클래스 추가 또는 커스텀 CSS

### 자주 수정되는 파일
- `static/css/pronunciation-practice.css` - 발음 평가 UI
- `templates/pronunciation-rules.html` - 발음 규칙 페이지
- `templates/base.html` - 헤더/레이아웃
- `static/css/vocab-garden.css` - 단어 게임 UI

---

## 🔗 참고 링크

- **Tailwind CSS**: https://tailwindcss.com
- **Pretendard 폰트**: https://github.com/orioncactus/pretendard
- **ELSA Speak**: https://www.elsanow.io/speak (발음 평가 벤치마크)

---

**마지막 업데이트**: 2025-12-10  
**문서 버전**: 1.0  
**대상 독자**: 디자이너, UI/UX 담당자
